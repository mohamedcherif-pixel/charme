/* =====================================================================
   UNIFIED FAVORITES BUTTON THEME
   Fixes conflicts and provides consistent styling across all sections
   ===================================================================== */

:root {
    /* Favorites Color Palette */
    --favorite-primary: rgb(var(--selector-accent-rgb));
    --favorite-primary-hover: #ffd700;
    --favorite-secondary: rgba(var(--selector-accent-rgb), );
    --favorite-secondary-hover: rgba(var(--selector-accent-rgb), );
    --favorite-border: rgba(var(--selector-accent-rgb), );
    --favorite-border-hover: rgba(var(--selector-accent-rgb), );
    --favorite-text: rgba(var(--selector-accent-rgb), );
    --favorite-text-hover: rgba(var(--selector-accent-rgb), );
    --favorite-text-active: rgba(0, 0, 0, 0.9);

    /* Favorites Shadows */
    --favorite-shadow: 0 4px 20px rgba(var(--selector-accent-rgb), );
    --favorite-shadow-hover: 0 12px 35px rgba(var(--selector-accent-rgb), );
    --favorite-shadow-active: 0 8px 30px rgba(var(--selector-accent-rgb), );

    /* Favorites Animation */
    --favorite-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --favorite-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);

    /* Favorites Typography */
    --favorite-font-weight: 600;
    --favorite-font-size: 14px;

    /* Favorites Spacing */
    --favorite-padding: 8px 16px;
    --favorite-gap: 2px;
    --favorite-radius: 20px;
    --favorite-min-width: 130px;
    --favorite-max-width: 170px;
}

/* =====================================================================
   BASE FAVORITES BUTTON - OVERRIDES ALL CONFLICTING STYLES
   ===================================================================== */

.favorite-btn,
.favorite-button,
button[class*="favorite"],
[id*="favorite"][class*="btn"],
[data-product] .favorite-btn {
    /* Reset and Base Styles */
    all: unset !important;
    box-sizing: border-box !important;

    /* Layout */
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: var(--favorite-gap) !important;
    width: fit-content !important;
    min-width: var(--favorite-min-width) !important;
    max-width: var(--favorite-max-width) !important;
    padding: var(--favorite-padding) !important;
    margin: 0 auto !important;

    /* Background */
    background: linear-gradient(
        135deg,
        var(--favorite-secondary),
        rgba(var(--selector-accent-rgb), )
    ) !important;
    border: 2px solid var(--favorite-border) !important;
    border-radius: var(--favorite-radius) !important;
    backdrop-filter: blur(10px) !important;

    /* Typography */
    color: var(--favorite-text) !important;
    font-size: 11px !important;
    font-weight: 500 !important;
    font-family: inherit !important;
    text-decoration: none !important;
    text-shadow: none !important;
    text-align: center !important;
    white-space: nowrap !important;
    line-height: 1.4 !important;

    /* Effects */
    box-shadow:
        var(--favorite-shadow),
        inset 0 1px 0 rgba(255, 255, 255, 0.1) !important;
    transition: var(--favorite-transition) !important;
    cursor: pointer !important;
    user-select: none !important;
    position: relative !important;
    overflow: hidden !important;
    z-index: 1 !important;

    /* Transform */
    transform: translateY(0) scale(1) !important;
}

/* =====================================================================
   FAVORITES BUTTON STATES
   ===================================================================== */

/* Hover State */
.favorite-btn:hover,
.favorite-button:hover,
button[class*="favorite"]:hover,
[id*="favorite"][class*="btn"]:hover,
[data-product] .favorite-btn:hover {
    background: linear-gradient(
        135deg,
        var(--favorite-secondary-hover),
        rgba(var(--selector-accent-rgb), )
    ) !important;
    border-color: var(--favorite-border-hover) !important;
    color: var(--favorite-text-hover) !important;
    transform: translateY(-4px) scale(1.05) !important;
    box-shadow:
        var(--favorite-shadow-hover),
        inset 0 1px 0 rgba(255, 255, 255, 0.2) !important;
}

/* Active/Favorited State */
.favorite-btn.favorited,
.favorite-btn.active,
.favorite-button.favorited,
.favorite-button.active,
button[class*="favorite"].favorited,
button[class*="favorite"].active,
[id*="favorite"][class*="btn"].favorited,
[id*="favorite"][class*="btn"].active,
[data-product] .favorite-btn.favorited,
[data-product] .favorite-btn.active {
    background: linear-gradient(
        135deg,
        var(--favorite-primary),
        var(--favorite-primary-hover)
    ) !important;
    border-color: var(--favorite-primary) !important;
    color: var(--favorite-text-active) !important;
    box-shadow:
        var(--favorite-shadow-active),
        0 4px 15px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
}

/* Active/Favorited Hover State */
.favorite-btn.favorited:hover,
.favorite-btn.active:hover,
.favorite-button.favorited:hover,
.favorite-button.active:hover,
button[class*="favorite"].favorited:hover,
button[class*="favorite"].active:hover,
[id*="favorite"][class*="btn"].favorited:hover,
[id*="favorite"][class*="btn"].active:hover,
[data-product] .favorite-btn.favorited:hover,
[data-product] .favorite-btn.active:hover {
    background: linear-gradient(
        135deg,
        var(--favorite-primary-hover),
        rgba(255, 235, 59, 0.95)
    ) !important;
    border-color: var(--favorite-primary-hover) !important;
    transform: translateY(-4px) scale(1.05) !important;
    box-shadow:
        0 12px 40px rgba(255, 215, 0, 0.6),
        0 6px 25px rgba(var(--selector-accent-rgb), ),
        inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* Disabled/Loading State */
.favorite-btn:disabled,
.favorite-btn.loading,
.favorite-button:disabled,
.favorite-button.loading,
button[class*="favorite"]:disabled,
button[class*="favorite"].loading {
    opacity: 0.6 !important;
    cursor: not-allowed !important;
    transform: none !important;
    pointer-events: none !important;
}

/* Locked State (for non-logged users) */
.favorite-btn.locked,
.favorite-button.locked,
button[class*="favorite"].locked {
    background: rgba(128, 128, 128, 0.2) !important;
    border: 2px solid rgba(128, 128, 128, 0.4) !important;
    color: rgba(128, 128, 128, 0.7) !important;
    cursor: not-allowed !important;
    opacity: 0.7 !important;
}

.favorite-btn.locked::before,
.favorite-button.locked::before,
button[class*="favorite"].locked::before {
    content: "ðŸ”’" !important;
    position: absolute !important;
    left: 12px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    font-size: 14px !important;
    opacity: 0.8 !important;
}

.favorite-btn.locked:hover,
.favorite-button.locked:hover,
button[class*="favorite"].locked:hover {
    background: rgba(128, 128, 128, 0.3) !important;
    border-color: rgba(128, 128, 128, 0.5) !important;
    transform: none !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
}

/* =====================================================================
   FAVORITES ICON STYLING
   ===================================================================== */

.favorite-icon,
.favorite-btn .favorite-icon,
.favorite-button .favorite-icon {
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    width: 20px !important;
    height: 20px !important;
    flex-shrink: 0 !important;
    position: relative !important;
}

/* Heart Icons */
.heart-outline,
.heart-filled,
.favorite-icon svg {
    width: 20px !important;
    height: 20px !important;
    display: block !important;
    fill: none !important;
    stroke: currentColor !important;
    stroke-width: 3 !important;
    stroke-linecap: round !important;
    stroke-linejoin: round !important;
    filter: brightness(1.5) contrast(1.2) !important;
}

.heart-outline {
    opacity: 1 !important;
    color: #ffd700 !important;
    stroke: #ffd700 !important;
}

.heart-filled {
    opacity: 0 !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    fill: currentColor !important;
    stroke: none !important;
}

/* Icon States */
.favorite-btn.favorited .heart-outline,
.favorite-btn.active .heart-outline,
.favorite-button.favorited .heart-outline,
.favorite-button.active .heart-outline {
    opacity: 0 !important;
}

.favorite-btn.favorited .heart-filled,
.favorite-btn.active .heart-filled,
.favorite-button.favorited .heart-filled,
.favorite-button.active .heart-filled {
    opacity: 1 !important;
    fill: #000000 !important;
    stroke: none !important;
    color: #000000 !important;
}

/* =====================================================================
   FAVORITES TEXT STYLING
   ===================================================================== */

.favorite-text,
.favorite-btn .favorite-text,
.favorite-button .favorite-text,
.favorite-btn span,
.favorite-button span {
    color: #ffd700 !important;
    font-size: 11px !important;
    font-weight: 500 !important;
    line-height: 1.4 !important;
    vertical-align: middle !important;
    white-space: nowrap !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important;
}

.favorite-btn.favorited .favorite-text,
.favorite-btn.active .favorite-text,
.favorite-button.favorited .favorite-text,
.favorite-button.active .favorite-text {
    color: #000000 !important;
    font-weight: 700 !important;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.5) !important;
}

.favorite-btn.locked .favorite-text,
.favorite-button.locked .favorite-text {
    margin-left: 20px !important;
    opacity: 0.7 !important;
}

/* =====================================================================
   CONTAINER STYLING
   ===================================================================== */

.favorite-btn-middle-container,
.favorite-btn-container,
.product-actions-buttons {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    margin: 20px 0 !important;
    padding: 0 20px !important;
    position: relative !important;
    z-index: 1 !important;
    width: 100% !important;
}

/* =====================================================================
   ANIMATION KEYFRAMES
   ===================================================================== */

@keyframes favoritesPulse {
    0% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
    100% {
        transform: scale(1);
    }
}

@keyframes favoritesHeartbeat {
    0%,
    100% {
        transform: scale(1);
    }
    25% {
        transform: scale(1.1);
    }
    75% {
        transform: scale(0.95);
    }
}

@keyframes favoritesShine {
    0% {
        background-position: -200% center;
    }
    100% {
        background-position: 200% center;
    }
}

/* =====================================================================
   ANIMATION CLASSES
   ===================================================================== */

.favorite-btn.animate,
.favorite-button.animate {
    animation: favoritesPulse 0.3s ease !important;
}

.favorite-btn.heartbeat .heart-filled,
.favorite-button.heartbeat .heart-filled {
    animation: favoritesHeartbeat 0.6s ease !important;
}

/* =====================================================================
   RESPONSIVE DESIGN
   ===================================================================== */

@media (max-width: 768px) {
    :root {
        --favorite-padding: 6px 12px;
        --favorite-font-size: 10px;
        --favorite-min-width: 110px;
        --favorite-max-width: 150px;
    }

    .favorite-btn,
    .favorite-button,
    button[class*="favorite"],
    [id*="favorite"][class*="btn"],
    [data-product] .favorite-btn {
        gap: 1px !important;
    }

    .heart-outline,
    .heart-filled,
    .favorite-icon svg {
        width: 16px !important;
        height: 16px !important;
    }
}

@media (max-width: 480px) {
    :root {
        --favorite-padding: 5px 10px;
        --favorite-font-size: 9px;
        --favorite-min-width: 100px;
        --favorite-max-width: 130px;
    }

    .favorite-btn-middle-container,
    .favorite-btn-container,
    .product-actions-buttons {
        padding: 0 10px !important;
        margin: 15px 0 !important;
    }
}

/* =====================================================================
   THEME OVERRIDES - ENSURE CONSISTENCY ACROSS ALL THEMES
   ===================================================================== */

/* Dark Theme */
.theme-dark .favorite-btn,
.theme-dark .favorite-button,
body.theme-dark .favorite-btn,
body.theme-dark .favorite-button {
    background: rgba(var(--selector-accent-rgb), ) !important;
    border-color: rgba(var(--selector-accent-rgb), ) !important;
    color: rgba(var(--selector-accent-rgb), ) !important;
}

.theme-dark .favorite-btn:hover,
.theme-dark .favorite-button:hover,
body.theme-dark .favorite-btn:hover,
body.theme-dark .favorite-button:hover {
    background: rgba(var(--selector-accent-rgb), ) !important;
    border-color: rgba(var(--selector-accent-rgb), ) !important;
    color: rgba(255, 255, 255, 1) !important;
}

/* Light Theme */
.theme-light .favorite-btn,
.theme-light .favorite-button,
body.theme-light .favorite-btn,
body.theme-light .favorite-button {
    background: rgba(255, 255, 255, 0.9) !important;
    border-color: rgba(var(--selector-accent-rgb), ) !important;
    color: rgba(var(--selector-accent-rgb), ) !important;
}

/* Cream Theme */
.theme-cream .favorite-btn,
.theme-cream .favorite-button,
body.theme-cream .favorite-btn,
body.theme-cream .favorite-button {
    background: rgba(255, 250, 240, 0.9) !important;
    border-color: rgba(139, 115, 85, 0.6) !important;
    color: rgba(139, 115, 85, 0.9) !important;
}

/* =====================================================================
   SECTION-SPECIFIC THEMES - UNIQUE FOR EACH PERFUME
   ===================================================================== */

/* Layton Section - Pure White & Clean Theme */
.layton-section .favorite-btn,
[data-product="layton"] {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.15), rgba(240, 240, 240, 0.1)) !important;
    border: 2px solid rgba(255, 255, 255, 0.7) !important;
    color: #FFFFFF !important;
}

.layton-section .favorite-btn:hover,
[data-product="layton"]:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(240, 240, 240, 0.2)) !important;
    border-color: #FFFFFF !important;
    color: #000000 !important;
    box-shadow: 0 8px 25px rgba(255, 255, 255, 0.4) !important;
}

.layton-section .favorite-btn.favorited,
[data-product="layton"].favorited {
    background: linear-gradient(135deg, #FFFFFF, #F0F0F0) !important;
    border-color: #FFFFFF !important;
    color: #000000 !important;
}

.layton-section .favorite-btn .heart-outline,
[data-product="layton"] .heart-outline {
    stroke: #FFFFFF !important;
}

.layton-section .favorite-btn .favorite-text,
[data-product="layton"] .favorite-text {
    color: #FFFFFF !important;
}

/* Haltane Section - Rich Brown & Earth Theme */
.haltane-section .favorite-btn,
[data-product="haltane"] {
    background: linear-gradient(135deg, rgba(139, 69, 19, 0.15), rgba(101, 67, 33, 0.1)) !important;
    border: 2px solid rgba(139, 69, 19, 0.7) !important;
    color: #8B4513 !important;
}

.haltane-section .favorite-btn:hover,
[data-product="haltane"]:hover {
    background: linear-gradient(135deg, rgba(139, 69, 19, 0.3), rgba(101, 67, 33, 0.2)) !important;
    border-color: #8B4513 !important;
    color: #FFFFFF !important;
    box-shadow: 0 8px 25px rgba(139, 69, 19, 0.4) !important;
}

.haltane-section .favorite-btn.favorited,
[data-product="haltane"].favorited {
    background: linear-gradient(135deg, #8B4513, #654321) !important;
    border-color: #8B4513 !important;
    color: #FFFFFF !important;
}

.haltane-section .favorite-btn .heart-outline,
[data-product="haltane"] .heart-outline {
    stroke: #8B4513 !important;
}

.haltane-section .favorite-btn .favorite-text,
[data-product="haltane"] .favorite-text {
    color: #8B4513 !important;
}

/* Pegasus Section - Bold Red & Power Theme */
.pegasus-section .favorite-btn,
[data-product="pegasus"] {
    background: linear-gradient(135deg, rgba(220, 20, 60, 0.15), rgba(178, 34, 34, 0.1)) !important;
    border: 2px solid rgba(220, 20, 60, 0.7) !important;
    color: #DC143C !important;
}

.pegasus-section .favorite-btn:hover,
[data-product="pegasus"]:hover {
    background: linear-gradient(135deg, rgba(220, 20, 60, 0.3), rgba(178, 34, 34, 0.2)) !important;
    border-color: #DC143C !important;
    color: #FFFFFF !important;
    box-shadow: 0 8px 25px rgba(220, 20, 60, 0.4) !important;
}

.pegasus-section .favorite-btn.favorited,
[data-product="pegasus"].favorited {
    background: linear-gradient(135deg, #DC143C, #B22222) !important;
    border-color: #DC143C !important;
    color: #FFFFFF !important;
}

.pegasus-section .favorite-btn .heart-outline,
[data-product="pegasus"] .heart-outline {
    stroke: #DC143C !important;
}

.pegasus-section .favorite-btn .favorite-text,
[data-product="pegasus"] .favorite-text {
    color: #DC143C !important;
}

/* Greenly Section - Fresh Green & Nature Theme */
.greenly-section .favorite-btn,
.greenly-theme .favorite-btn,
[data-product="greenly"] {
    background: linear-gradient(135deg, rgba(40, 167, 69, 0.15), rgba(25, 135, 84, 0.1)) !important;
    border: 2px solid rgba(40, 167, 69, 0.7) !important;
    color: #28A745 !important;
}

.greenly-section .favorite-btn:hover,
.greenly-theme .favorite-btn:hover,
[data-product="greenly"]:hover {
    background: linear-gradient(135deg, rgba(40, 167, 69, 0.3), rgba(25, 135, 84, 0.2)) !important;
    border-color: #28A745 !important;
    color: #FFFFFF !important;
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4) !important;
}

.greenly-section .favorite-btn.favorited,
.greenly-theme .favorite-btn.favorited,
[data-product="greenly"].favorited {
    background: linear-gradient(135deg, #28A745, #1E7E34) !important;
    border-color: #28A745 !important;
    color: #FFFFFF !important;
}

.greenly-section .favorite-btn .heart-outline,
.greenly-theme .favorite-btn .heart-outline,
[data-product="greenly"] .heart-outline {
    stroke: #28A745 !important;
}

.greenly-section .favorite-btn .favorite-text,
.greenly-theme .favorite-btn .favorite-text,
[data-product="greenly"] .favorite-text {
    color: #28A745 !important;
}

/* Additional Product-Specific Themes */

/* Creed Section - Premium Silver & Platinum Theme */
.creed-section .favorite-btn,
[data-product*="creed"] {
    background: linear-gradient(135deg, rgba(192, 192, 192, 0.15), rgba(128, 128, 128, 0.1)) !important;
    border: 2px solid rgba(192, 192, 192, 0.7) !important;
    color: #C0C0C0 !important;
}

.creed-section .favorite-btn:hover,
[data-product*="creed"]:hover {
    background: linear-gradient(135deg, rgba(192, 192, 192, 0.3), rgba(128, 128, 128, 0.2)) !important;
    border-color: #C0C0C0 !important;
    color: #FFFFFF !important;
    box-shadow: 0 8px 25px rgba(192, 192, 192, 0.4) !important;
}

.creed-section .favorite-btn.favorited,
[data-product*="creed"].favorited {
    background: linear-gradient(135deg, #C0C0C0, #A0A0A0) !important;
    border-color: #C0C0C0 !important;
    color: #000000 !important;
}

/* Tom Ford Section - Luxurious Black & Gold Theme */
.tomford-section .favorite-btn,
[data-product*="tomford"] {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.15), rgba(51, 51, 51, 0.1)) !important;
    border: 2px solid rgba(255, 215, 0, 0.7) !important;
    color: #FFD700 !important;
}

.tomford-section .favorite-btn:hover,
[data-product*="tomford"]:hover {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.3), rgba(51, 51, 51, 0.2)) !important;
    border-color: #FFD700 !important;
    color: #FFD700 !important;
    box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4) !important;
}

.tomford-section .favorite-btn.favorited,
[data-product*="tomford"].favorited {
    background: linear-gradient(135deg, #000000, #333333) !important;
    border-color: #FFD700 !important;
    color: #FFD700 !important;
}

/* Initio Section - Mystical Purple & Cosmic Theme */
.initio-section .favorite-btn,
[data-product*="initio"] {
    background: linear-gradient(135deg, rgba(138, 43, 226, 0.15), rgba(75, 0, 130, 0.1)) !important;
    border: 2px solid rgba(138, 43, 226, 0.7) !important;
    color: #8A2BE2 !important;
}

.initio-section .favorite-btn:hover,
[data-product*="initio"]:hover {
    background: linear-gradient(135deg, rgba(138, 43, 226, 0.3), rgba(75, 0, 130, 0.2)) !important;
    border-color: #8A2BE2 !important;
    color: #FFFFFF !important;
    box-shadow: 0 8px 25px rgba(138, 43, 226, 0.4) !important;
}

.initio-section .favorite-btn.favorited,
[data-product*="initio"].favorited {
    background: linear-gradient(135deg, #8A2BE2, #4B0082) !important;
    border-color: #8A2BE2 !important;
    color: #FFFFFF !important;
}

/* =====================================================================
   LOADING STATES
   ===================================================================== */

.favorite-btn.loading::after,
.favorite-button.loading::after {
    content: "" !important;
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    width: 16px !important;
    height: 16px !important;
    margin: -8px 0 0 -8px !important;
    border: 2px solid transparent !important;
    border-top: 2px solid currentColor !important;
    border-radius: 50% !important;
    animation: spin 1s linear infinite !important;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

/* =====================================================================
   ACCESSIBILITY
   ===================================================================== */

.favorite-btn:focus,
.favorite-button:focus {
    outline: 2px solid var(--favorite-primary) !important;
    outline-offset: 2px !important;
}

.favorite-btn:focus-visible,
.favorite-button:focus-visible {
    box-shadow:
        var(--favorite-shadow-hover),
        0 0 0 3px rgba(var(--selector-accent-rgb), ) !important;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
    .favorite-btn,
    .favorite-button,
    .favorite-icon,
    .heart-outline,
    .heart-filled {
        transition: none !important;
        animation: none !important;
    }
}

/* Enhanced icon visibility with section-specific backgrounds */
.favorite-icon {
    border-radius: 50% !important;
    padding: 2px !important;
}

/* Section-specific icon backgrounds */
[data-product="layton"] .favorite-icon {
    background: rgba(255, 255, 255, 0.1) !important;
}

[data-product="haltane"] .favorite-icon {
    background: rgba(139, 69, 19, 0.1) !important;
}

[data-product="pegasus"] .favorite-icon {
    background: rgba(220, 20, 60, 0.1) !important;
}

[data-product="greenly"] .favorite-icon {
    background: rgba(40, 167, 69, 0.1) !important;
}

/* Hover effects maintain section colors */
.favorite-btn:hover .heart-outline {
    filter: brightness(1.8) contrast(1.5) !important;
}
}
