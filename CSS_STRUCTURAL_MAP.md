# CSS Structural Map ‚Äî Charme Project

> **Generated by analysis of `styles.css` (20,990 lines) + 5 partial CSS files**
> Research-only ‚Äî no code changes made.

---

## Table of Contents

1. [File Overview](#1-file-overview)
2. [Section-by-Section Structural Map (styles.css)](#2-section-by-section-structural-map)
3. [Partial CSS Files Summary](#3-partial-css-files-summary)
4. [Broken CSS Inventory](#4-broken-css-inventory)
5. [Duplicate / Conflicting Definitions](#5-duplicate--conflicting-definitions)
6. [Color Scheme Map](#6-color-scheme-map)
7. [Font Families](#7-font-families)
8. [Z-Index Hierarchy](#8-z-index-hierarchy)
9. [Keyframe Animations Inventory](#9-keyframe-animations-inventory)
10. [Responsive Breakpoints](#10-responsive-breakpoints)
11. [Structural Patterns & Duplication](#11-structural-patterns--duplication)

---

## 1. File Overview

| File | Lines | Purpose |
|------|-------|---------|
| `styles.css` | 20,990 | Monolithic main stylesheet ‚Äî everything from reset to modals |
| `css/favorites_theme.css` | 766 | Favorites button section-specific theme variants |
| `css/greenly-profile.css` | 745 | Greenly fragrance-specific green theme overrides |
| `css/fragrance-results.css` | 616 | Fragrance search results page cards/grid |
| `css/fragrance-results-extra.css` | 769 | Results loading, pagination, notifications, filters, dark theme |
| `css/logo.css` | 0 | **Empty file** |

---

## 2. Section-by-Section Structural Map

### Section A: Lines 1‚Äì500 ‚Äî Global Styles, Body, Navbar, Search

**CSS Variables (`:root` ~line 20‚Äì40):**
- `--color-gold: #d4af37`, `--color-gold-light: #ffd700`, `--color-gold-dark: #b8963a`
- `--pegasus-transition-color: #171719`
- `--marquee-height: 34px`
- `--transition-fast / --transition-normal / --transition-slow`
- `--bg-color`, `--accent-color`, `--card-bg`, `--border-color`, `--text-color`

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| `*` (universal reset) | ~1 | `box-sizing: border-box`, margin/padding 0 |
| `.hidden` | ~8 | `display: none !important` |
| `.availability-badge` | ~10 | First definition (inline-flex, 6px/12px padding) |
| `html, body` | ~50 | `background: #000000`, `color: #f5f5f5`, `font-family: system-ui` |
| `.top-marquee` | ~70 | `z-index: 1004`, 34px height, gold gradient |
| `.navbar` | ~120 | `z-index: 1002`, fixed, backdrop-filter blur(10px) |
| `.brand-name` (navbar) | ~160 | Playfair Display serif, gold color |
| `.quick-search-container` | ~200 | Rounded search in navbar |
| `#quickSearchInput` | ~220 | White text, transparent bg |
| `.quick-search-dropdown` | ~280 | Absolute dropdown, max-height 400px |

**Keyframes:** `marquee-scroll` (~line 90)

---

### Section B: Lines 500‚Äì1500 ‚Äî Search Dropdowns, User Profile, Search Modal

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| `.search-suggestion` | ~500 | Staggered `nth-child` delays (1‚Äì8) |
| `.profile-suggestion` | ~560 | Flex layout, avatar+details |
| `.profile-badge` | ~580 | Absolute badge on profile suggestion |
| `.user-account-section` | ~650 | Navbar user section |
| `.login-btn` | ~680 | Gold border, transparent bg |
| `.user-profile` | ~700 | Avatar + dropdown trigger |
| `.user-profile.admin-user` | ~720 | Gold `#ffd700` ring, admin glow |
| `.user-dropdown` | ~750 | Absolute, max-width, dark glass bg |
| `.profile-level-section` | ~850 | Progress bar, level badge |
| `.search-modal` | ~950 | Full viewport, z-index: 999 |
| `.user-avatar:hover::after::before` | ~1058 | **‚ö†Ô∏è INVALID** ‚Äî see Broken CSS |

**Colors:** `#007bff` (blue links), `#ffd700` (admin gold), `#dc3545` (red)
**Fonts:** "Inter" sans-serif introduced (~line 600)
**Breakpoints:** `@media 768px`, `@media 480px`

---

### Section C: Lines 1500‚Äì3000 ‚Äî Search Content, Reddit Review, Auth/Admin Modals

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| `.search-header` | ~1500 | Modal search header |
| `#searchInput` | ~1520 | Main search input |
| `.reddit-review-section` | ~1600 | Reddit orange `#ff4500` theme |
| `.auth-modal` | ~1800 | `z-index: 999999`, dark glass overlay |
| `.auth-modal .auth-header` | ~1850 | "Playfair Display" serif |
| `.admin-modal` | ~2200 | `z-index: 100002`, gold border, admin panel |
| `.admin-tabs` | ~2300 | Tab navigation for admin |
| `.users-table` | ~2500 | Admin user management table |
| `.ban-button` | ~2600 | Red destructive action |

**Colors:** `#ff4500` (reddit orange), `#28a745` (green badges)
**Z-index escalation starts here:** 999999 (auth), 100002 (admin)

---

### Section D: Lines 3000‚Äì5000 ‚Äî Nav Links, Hero, Video, Floating UI, Layton Product, Quality Selector, Fragrance Profiles

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| `.language-changer` | ~3000 | Dropdown with flag icons |
| `.hero` | ~3100 | `100vh` full viewport, relative |
| `#background-video` | ~3150 | Object-fit cover, fixed |
| `.floating-menu` | ~3200 | Fixed side menu |
| `.back-to-top` | ~3250 | Scroll-to-top button |
| `.layton-image` | ~3400 | Parallax product image |
| `.product-title` | ~3500 | Flex container for product info |
| `.brand-name` (product) | ~3520 | "Playfair Display", gold, larger |
| `.brand-location` | ~3540 | Sub-brand text |
| `.product-name` | ~3560 | Large product name heading |
| `.price-badge` | ~3600 | Gold gradient badge, ornaments (4 corners) |
| `.quality-selector-container` | ~3700 | Radio-button quality options |
| `.quality-option` | ~3720 | Individual quality tier |
| `.quality-label` | ~3740 | Label with badge, name, description |
| `.quality-badge` | ~3760 | Badge icon/indicator |
| `.custom-fragrance-profile` | ~3900 | Scent profile container |
| `.fragrance-profile-container` | ~3920 | Dark glass, backdrop-filter |
| `.category-item` | ~3960 | Individual scent bar |
| `.category-fill` | ~3980 | Colored progress bars |

**15 Scent Category Fill Colors (Layton):**
| Category | Color | ~Line |
|----------|-------|-------|
| `.sweet` | `#e91e63` pink | ~4000 |
| `.gourmand` | `#ff5722` deep-orange | ~4010 |
| `.vanilla` | `#ffc107` amber | ~4020 |
| `.almond` | `#795548` brown | ~4030 |
| `.warm-spicy` | `#f44336` red | ~4040 |
| `.amber` | `#ff9800` orange | ~4050 |
| `.woody` | `#4caf50` green | ~4060 |
| `.floral` | `#9c27b0` purple | ~4070 |
| `.citrus` | `#ffeb3b` yellow | ~4080 |
| `.fresh` | `#00bcd4` teal | ~4090 |
| `.musky` | `#607d8b` blue-grey | ~4100 |
| `.powdery` | `#e8eaf6` lavender-white | ~4110 |
| `.leather` | `#3e2723` dark-brown | ~4120 |
| `.smoky` | `#37474f` dark-grey | ~4130 |
| `.aquatic` | `#03a9f4` light-blue | ~4140 |

---

### Section E: Lines 5000‚Äì8000 ‚Äî Quality Ornaments, Fragrance Notes, Ratings, Haltane Section, Pegasus Section

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| `.intensity-meter` | ~5000 | Linear gradient track, animated fill |
| `.quality-ornament` (4 corners) | ~5100 | Decorative corner elements |
| `.quality-shimmer` / `.quality-glow` | ~5200 | Hover effects on quality options |
| `.fragrance-notes` | ~5300 | Top/heart/base pyramid layout |
| `.perfume-rating` | ~5500 | Star-based rating display |
| `.mood-indicators` | ~5600 | Mood tags (romantic, confident‚Ä¶) |
| `.season-indicators` | ~5700 | Season bars with colors |
| `.additional-ratings` | ~5800 | Longevity, sillage, etc. |
| `.gender-scale` | ~5900 | Masculine‚Äìfeminine slider |
| `.price-scale` | ~5950 | Value indicator |
| `.haltane-section-container` | ~6100 | Cream `#f5f2ed` bg, different theme |
| `.haltane-image` | ~6200 | Haltane product image |
| `.haltane-price-badge` (1st def) | ~6400 | Cream/brown badge |
| `.haltane-quality-selector-container` | ~6500 | Haltane quality system |
| `.pegasus-section` | ~7000 | Dark section transition |
| `.haltane-brand-name` (1st def) | ~7539 | First definition |
| `.haltane-brand-name` (2nd def) | ~7612 | **‚ö†Ô∏è DUPLICATE** ‚Äî different styles |
| `.haltane-price-badge` (2nd def) | ~7797 | **‚ö†Ô∏è DUPLICATE** |

**Orphaned CSS block** at ~line 7627: `background: linear-gradient(...)` without a selector ‚Äî **BROKEN**.

**Season indicator colors:**
| Season | Color |
|--------|-------|
| Winter | `#74c0fc` |
| Spring | `#8ce99a` |
| Summer | `#ffd43b` |
| Fall | `#ffa94d` |

**Haltane Color Palette:** `#f5f2ed`, `#f0e8d8`, `#5d4037`, `#8d6e63`, `#c9a86c`

---

### Section F: Lines 8000‚Äì10000 ‚Äî Haltane Quality Completion, Fragrance Descriptions, Pegasus Ratings, Pegasus Image

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| `.haltane-quality-content` | ~8000 | Haltane quality inner content |
| `.haltane-fragrance-profile-container` | ~8100 | 9 scent variants (haltane-prefixed) |
| `.haltane-fragrance-description` | ~8400 | Haltane description text |
| `.layton-fragrance-description` | ~8500 | Layton description text |
| `.pegasus-fragrance-description` | ~8600 | Pegasus description text |
| `.haltane-additional-ratings` | ~8700 | Haltane-specific ratings |
| `.pegasus-additional-ratings` | ~8800 | Pegasus-specific ratings |
| `.top-vignette` | ~9000 | Dark overlay gradient |
| `.pegasus-image` | ~9100 | 360px parallax, dark bg |
| Pegasus scent categories (10) | ~9300 | Per-category gradient colors |

**Pegasus Scent Category Colors:**
| Category | Gradient Start | ~Line |
|----------|---------------|-------|
| `.sweet` | `#DC143C` crimson | ~9300 |
| `.gourmand` | `#C0392B` dark-red | ~9320 |
| `.vanilla` | `#B8860B` dark-goldenrod | ~9340 |
| `.warm-spicy` | `#8B0000` dark-red | ~9360 |
| `.amber` | `#A0522D` sienna | ~9380 |
| `.woody` | `#4A4A4A` grey | ~9400 |
| `.floral` | `#8B4585` orchid | ~9420 |
| `.citrus` | `#CC7722` ochre | ~9440 |
| `.fresh` | `#2F4F4F` dark-slate | ~9460 |
| `.musky` | `#404040` charcoal | ~9480 |

---

### Section G: Lines 10000‚Äì14000 ‚Äî Pegasus Quality Overrides, Notifications, Modals, Admin System, Reviews, Favorite Buttons, Themes

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| Pegasus quality badge overrides | ~10000 | `!important` throughout, green for top, gold for identical |
| `.pegasus-section .fragrance-profile-container` | ~10200 | 260px, backdrop-filter blur(20px) |
| `.fillAnimation` | ~10400 | Keyframe for fill bars |
| Pegasus intensity meter/scale | ~10500 | Red-themed meter track |
| `.notification` (1st definition) | ~10655 | z-index 10000, elaborate dark glass styling |
| `.profile-modal` / `.favorites-modal` / `.settings-modal` | ~10800 | z-index 99999, `display:none‚Üíflex!important` |
| `.modal-overlay` | ~10850 | z-index 99998 |
| `.modal-content` | ~10900 | z-index 100000 |
| `.admin-badge-container` / `.admin-badge` | ~11000 | Gold `#ffd700` badge |
| `.admin-crown-indicator` | ~11100 | Gold crown element |
| `.admin-review-avatar` | ~11200 | Gold gradient border + glow |
| `.review-avatar-crown` | ~11300 | 14px gold crown, float animation |
| `.reply-form-container` | ~11400 | Reply system form |
| `.reply-textarea` | ~11430 | Reply text input |
| `.replies-container` | ~11500 | Reply thread container |
| `.reply-item` | ~11520 | Individual reply, translateX hover |
| `.reply-actions` (like/dislike/delete) | ~11600 | Reply action buttons |
| `.reply-admin-badge` | ~11700 | Admin badge on replies |
| `@keyframes profileRingGlow` | ~11460 | **‚ö†Ô∏è EMPTY** ‚Äî brightness(1) to brightness(1) |
| `.notification` (2nd definition) | ~12060 | **‚ö†Ô∏è DUPLICATE** ‚Äî simpler gradient, overrides 1st |
| `.btn-primary` (1st definition) | ~12100 | Gold background modal button |
| `.btn-secondary` (1st definition) | ~12120 | Transparent/outlined modal button |
| `.btn-danger` | ~12140 | Red destructive button |
| `#verificationModal` | ~12200 | z-index 99999, gold border |
| `#banModal` | ~12300 | z-index 100005, **RED** border `#dc3545` |
| `.favorite-btn` (home section) | ~13000 | `.locked/.favorited/.loading/.animate` states |
| `.heart-outline` / `.heart-filled` | ~13100 | SVG heart icons |
| `.login-prompt-overlay` | ~13200 | z-index 100000 |
| `.login-prompt-modal` | ~13250 | Gold border prompt |
| `.theme-dark` | ~13400 | Dark theme overrides |
| `.theme-cream` | ~13450 | Cream theme, brown `#8b7355` accents |
| `.theme-light` | ~13500 | Light theme, grey `#495057` accents |
| `.reviews-section` | ~13600 | Dark glass, opacity 0.8, blur 10px |

**Keyframes in this section:** `subtleGlow`, `fillAnimation`, `profileRingGlow` (EMPTY), `adminBadgeGlow`, `adminBorderRotate`, `adminPulse`, `adminAvatarGlow`, `adminCrownFloat`, `reviewAdminBadgeGlow`, `adminReviewAvatarGlow`, `reviewCrownFloat`, `replyFormSlideIn`, `replySlideIn`, `replyAdminCrownFloat`, `spin` (REDEFINED), `notificationSlideIn`, `modalSlideIn` (REDEFINED), `verificationModalAppear`, `banModalAppear`, `adminModalAppear` (REDEFINED), `badgeShine`, `adminCrownGlow` (DEFINED TWICE ~12877 & ~12929), `adminTitleGlow` (DEFINED TWICE ~12885 & ~12937), `tooltipFadeIn`, `favoriteAdded`, `favoriteHeartPulse`, `favoriteButtonGlow`, `favoriteLoading`

---

### Section H: Lines 14000‚Äì18000 ‚Äî Reviews Responsive, Favorites Grid, Cart, AI Finder, News, Notifications, User Counter, Photo Editor, Transitions, Pegasus Override

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| `.reviews-empty` responsive | ~14000 | Empty state for reviews |
| `body::before` (theme debug) | ~14050 | `opacity:0`, shows with `.debug-theme` |
| `.favorites-grid` | ~14100 | CSS grid auto-fit minmax(300px) |
| `.favorite-card` | ~14150 | Image overlay, hover scale |
| `.product-actions-buttons` | ~14400 | Button container |
| `.add-to-cart-btn` | ~14450 | Green `#2a9d4e`, `.added` state red `#dc3545` |
| `.cart-count` badge | ~14500 | Red badge on cart icon |
| `.replies-not-found` | ~14550 | Dashed border italic message |
| `.modal` (base styles) | ~14600 | `z-index: 999999`, `.modal-content` z-index: 1000000 |
| `.cart-content` | ~14700 | Cart modal inner |
| `.cart-item` | ~14750 | Item with image/details/quantity |
| `.quantity-btn` | ~14800 | Gold-themed increment/decrement |
| `.remove-item-btn` | ~14850 | Red remove |
| `.cart-summary` / `.cart-total` | ~14900 | Summary/total rows |
| `.navbar-cart-icon` | ~15000 | `.cart-badge` with bounceIn |
| `.ai-fragrance-finder` | ~15100 | Dropdown 400px, z-index 1005 |
| `.ai-finder-icon` / `.brain-icon` | ~15150 | AI icon in navbar |
| `.ai-finder-dropdown` | ~15200 | Welcome/question/results/loading states |
| `.ai-question-progress` | ~15300 | Progress bar for AI quiz |
| `.ai-option` | ~15350 | Selectable option with checkmark `::after` |
| `.ai-results-header` | ~15500 | AI recommendation results |
| `.ai-recommended-fragrance` | ~15520 | Recommended card |
| `.ai-match-percentage` | ~15550 | Match % display |
| `.ai-loading-animation` | ~15600 | AI brain loading |
| `.navbar-news-icon` | ~15700 | Steel blue hover, `.has-news` pulse |
| `.navbar-notification-container` | ~15800 | `.locked` state with üîí `::after` |
| `.navbar-notification-icon` | ~15850 | Amber hover, `.has-notifications` shake |
| `.notification-badge` | ~15900 | Red notification count |
| `.navbar-user-counter` | ~16000 | Green `#10b981`, pill shape, pulse-glow |
| `.user-counter-compact` | ~16100 | Smaller variant |
| `.ingredient-finder` / `.ingredient-finder-icon` | ~16200 | Navbar ingredient search |
| `.ingredient-finder-dropdown` | ~16250 | 420px dropdown, search/tags/results |
| `.news-modal` | ~16400 | z-index 10000, scale animation |
| `.news-item-badge` | ~16500 | `.urgent` red, `.update` blue, `.feature` teal |
| `.notification-dropdown` | ~16600 | 380px, z-index 10000, arrow `::before` |
| `.notification-item` | ~16700 | `.unread` gold left border + dot |
| `.notification-item-type` | ~16750 | `.order` green, `.system` purple, `.promotion` orange |
| `.photo-editor-modal` (1st def) | ~17380 | z-index 200000 ‚Äî **HIGHEST IN FILE** |
| `.photo-editor-content` | ~17400 | Light theme: white/grey `#f8f9fa`, blue `#007bff` |
| `#photoCanvas` | ~17420 | Canvas element |
| `.crop-overlay` / `.crop-circle` | ~17440 | 300px blue border circle |
| `.editor-controls` / `.control-group` | ~17460 | Sliders/buttons |
| `.btn-primary` (2nd def, photo editor) | ~17450 | **‚ö†Ô∏è OVERRIDES** modal buttons (grey/blue not gold) |
| `.btn-secondary` (2nd def, photo editor) | ~17470 | **‚ö†Ô∏è OVERRIDES** modal buttons |
| `.photo-editor-modal` (2nd def) | ~17480 | **‚ö†Ô∏è DUPLICATE** with `!important` |
| `.photo-editor-content` (2nd def) | ~17500 | **‚ö†Ô∏è DUPLICATE** with `!important` |
| `.preview-container` | ~17520 | Blue border, circular |
| `.white-transition-section` | ~17600 | min-height 300vh, transparent bg |
| Pegasus scent profile FINAL OVERRIDE | ~17700 | Red/black: `#0f0f10`, `#171719`, red `rgba(255,59,59,0.25)` |

**Keyframes in this section:** `slideInRight`, `slideOutRight`, `aiPulse`, `brainFloat`, `loadingDots` (REDEFINED), `news-pulse`, `pulse-notification`, `notification-shake`, `bounceIn`, `pulse-glow`, `number-pop`, `loading-pulse`, `tooltip-fade-in`, `success-glow`, `number-pop-small`, `success-glow-small`, `ingredientPulse`, `spin` (REDEFINED AGAIN), `addedPulse`, `cartModalPopIn`, `profileRingPulse`

---

### Section I: Lines 18000‚Äì20990 ‚Äî Pegasus Quality Themes (Continued), Greenly Layout, Enhanced Ingredient Modal

**Key Selectors:**
| Selector | ~Line | Notes |
|----------|-------|-------|
| Pegasus scent profile red overrides (cont.) | ~18000 | Subtitle, labels, bars, fills, meter ‚Äî all `!important` |
| Pegasus product header ‚Üí white | ~18060 | `.brand-name`, `.brand-location`, `.product-name` forced white |
| Pegasus Top Quality Dark Grey | ~18090 | `#4d4d4d` borders, dark gradient, grey `#d0d0d0` text |
| Pegasus Identical Smoky Crimson | ~18130 | `.pegasus-image ~ .product-title` high-specificity, `#b85450`/`#c9807c` |
| Pegasus Top Smoky Garnet | ~18310 | `#b3392f` garnet, `#ff625a`/`#ff827a` bright red text |
| ID-specific overrides (`#pegasus-identical-quality`, `#pegasus-top-quality`) | ~18250, ~18420 | Duplicate overrides via ID selectors |
| `.greenly-main-container` | ~18492 | Flex layout, gap 30px, flex-wrap |
| `.greenly-product-section` | ~18500 | Flex, gap 20px |
| `.product-info-section` | ~18510 | Column flex |
| `.greenly-profiles-container` | ~18520 | Flex profiles row |
| `.greenly-scent-profile` | ~18530 | 400px, green bg `#f7faf7`, green border |
| `.greenly-ingredients` | ~18540 | 400px, matching green theme |
| `.fragrance-wheel` (Greenly) | ~18600 | 140px circle, `#e8f5e8` bg, `#4caf50` border |
| `.wheel-segment.fresh` | ~18650 | `#81c784` |
| `.wheel-segment.green` | ~18660 | `#4caf50` |
| `.wheel-segment.citrus` | ~18670 | `#fb8c00` |
| `.wheel-segment.woody` | ~18680 | `#795548` |
| `.wheel-segment.aromatic` | ~18690 | `#42a5f5` |
| `.performance-metrics` | ~18720 | Metric bars, green fills |
| `.notes-pyramid` (Greenly) | ~18780 | Pyramid layer cards |
| `.note-card` | ~18820 | Green-themed note card |
| Greenly `@media 768px` | ~18870 | Column layout, responsive wheel |
| Greenly `@media 480px` | ~18910 | Smaller wheel 120px, 2-column grid |
| `.ingredient-finder-icon` (enhanced) | ~18960 | 40px navbar circle, backdrop-filter |
| `.ingredient-modal` | ~19020 | z-index 10000, full viewport, `background: rgba(0,0,0,0.92)` |
| `.ingredient-modal-content` | ~19060 | 1200px max, 90vh, gold border, 25px radius |
| `.ingredient-modal-header` | ~19130 | Gold gradient line `::before` |
| `.ingredient-modal-title h2` | ~19170 | "Playfair Display" serif, 28px |
| `.ingredient-modal-close` | ~19200 | 45px circle, rotate(90deg) on hover |
| `.ingredient-modal-body` | ~19240 | Scrollable, gold scrollbar |
| `.ingredient-search-section` | ~19290 | 40px padding, slideInUp animation |
| `#enhancedIngredientSearch` | ~19350 | 25px border-radius, gold focus glow |
| `.ingredient-categories` | ~19400 | CSS grid auto-fit 350px |
| `.ingredient-category` | ~19420 | Glass card, categorySlideIn animation |
| `.enhanced-ingredient-tag` | ~19520 | 20px radius pill, icon+name, hover gold |
| `.enhanced-ingredient-tag.selected` | ~19580 | Gold background, `selectedPulse` animation |
| `.selected-ingredients-bar` | ~19650 | Gold border, `barSlideIn` animation |
| `.selected-ingredient-pill` | ~19700 | Gold gradient pill, `pillSlideIn` |
| `.enhanced-search-btn` | ~19780 | `var(--color-gold)` background |
| `.show-all-btn` | ~19830 | Dark bg, gold border variant |
| `.ingredient-results-section` | ~19880 | Hidden by default, mutual exclusion CSS |
| `.results-grid` | ~19950 | CSS grid auto-fit 380px |
| `.result-card` | ~19970 | Glass card, 400px min-height, gold border, hover translateY(-8px) |
| `.fragrance-image-placeholder` | ~20050 | 80px circle, rotating conic-gradient `::before` |
| `.result-match-badge` | ~20120 | Gold pill badge |
| `.availability-badge` (redefined) | ~20150 | **‚ö†Ô∏è DUPLICATE** of line ~10 |
| `.quality-bar` / `.quality-fill` | ~20200 | Green‚Üíyellow‚Üígold gradient, `qualityShine` animation |
| `.result-description` | ~20250 | 3-line clamp via `-webkit-line-clamp: 3` |
| `.ingredient-pills .ingredient-pill` | ~20300 | 12px pill, `.matched` gold variant |
| `.ingredient-stats` | ~20350 | Flex stat items, gold numbers |
| `.view-fragrance-btn` | ~20400 | Gold, 20px radius, uppercase |
| `.favorite-btn, .share-btn` (ingredient modal) | ~20450 | **‚ö†Ô∏è 52px circles ‚Äî conflicts with home `.favorite-btn`** |
| `.fragrance-notification` | ~20550 | z-index 99999, right-slide, success/error/info variants |
| `.ingredient-pills .ingredient-pill` (detailed) | ~20650 | 12px text, `.matched` gold glow animation |
| `@media 1024px` (ingredient modal) | ~20720 | 98% width, single columns |
| `@media 768px` (ingredient modal) | ~20740 | Header stacks, single grid |
| `@media 480px` (ingredient modal) | ~20870 | Full-screen (100vw/100vh, 0 radius) |

**Keyframes in this section:** `modalFloat`, `iconGlow`, `slideInUp`, `categorySlideIn`, `iconGlowPulse`, `selectedPulse`, `barSlideIn`, `pillSlideIn`, `rotate`, `qualityShine`, `checkmarkPulse`, `matchedIconGlow`

---

## 3. Partial CSS Files Summary

### css/favorites_theme.css (766 lines)

**Purpose:** Unified favorites button theme with per-fragrance-section color variants.

| Section | Lines | Content |
|---------|-------|---------|
| CSS Variables | 1‚Äì30 | `--fav-btn-size`, `--fav-btn-color`, etc. |
| Base button | 30‚Äì150 | `all: unset !important`, hover/active/favorited/disabled/locked states |
| Animations | 150‚Äì250 | `favoritesPulse`, `favoritesHeartbeat`, `favoritesShine` |
| Responsive | 250‚Äì300 | Breakpoints for button sizing |
| Theme overrides | 300‚Äì500 | `.theme-dark`, `.theme-light`, `.theme-cream`, Layton (white) |
| Haltane section | 500‚Äì550 | Brown `#8B4513` |
| Pegasus section | 550‚Äì600 | Crimson `#DC143C` |
| Greenly section | 600‚Äì650 | Green `#28A745` |
| Creed section | 650‚Äì680 | Silver `#C0C0C0` |
| Tom Ford section | 680‚Äì710 | Black/gold `#000000`/`#FFD700` |
| Initio section | 710‚Äì740 | Purple `#8A2BE2` |
| Loading/Accessibility | 740‚Äì766 | Focus-visible, prefers-reduced-motion |

**‚ö†Ô∏è BROKEN:** Extra closing brace `}` at ~line 766 ‚Äî orphaned/mismatched.
**Pattern:** Heavy `!important` usage throughout (nearly every property).

---

### css/greenly-profile.css (745 lines)

**Purpose:** Greenly fragrance-specific green theme overrides.

**Green palette:** `#155724`, `#1c7430`, `#28a745`, `#20c997`, `#b2d8b2`, `#f0f9f4`, `#e6f4ea`

**Components overridden:** Quality selectors, price badge, product text, fragrance description, favorite/cart buttons, parallax, performance metrics, rating bars, reddit section, mood/seasonal indicators, rating score, perfume description.

**Breakpoints:** `@media 768px`

---

### css/fragrance-results.css (616 lines)

**Purpose:** Fragrance search results page styling.

| Component | ~Line | Notes |
|-----------|-------|-------|
| `.fragrance-results-container` | 1 | CSS grid auto-fit minmax(320px) |
| `.fragrance-result` card | 30 | Shimmer hover effect |
| Concentration badges | 100 | `.conc-edt` blue, `.conc-edp` purple, `.conc-parfum` amber, `.conc-elixir` red |
| `.view-details-btn` | 200 | Purple gradient `#667eea‚Üí#764ba2` |
| `.favorite-button` / `.share-button` | 300 | 44px circular buttons |
| Staggered animation | 400 | `nth-child(1)` through `nth-child(6)` |
| `@media 768px` | 480 | Responsive grid |
| `@media 480px` | 500 | Smaller buttons, column layout |
| `prefers-contrast: high` | 550 | High contrast mode |
| `prefers-reduced-motion` | 570 | Motion reduction |
| Print styles | 590 | Hide actions, white bg |

---

### css/fragrance-results-extra.css (769 lines)

**Purpose:** Additional results ‚Äî loading, pagination, notifications, layout variants, filters, dark theme.

| Component | ~Line | Notes |
|-----------|-------|-------|
| `.fragrance-results-loading` | 1 | Gold spinner |
| `.results-summary` | 50 | Result count display |
| `.sort-select` | 80 | Sort dropdown |
| `.pagination-controls` | 120 | Page navigation |
| `.fragrance-notification` | 200 | z-index 10000, success/error/info/warning |
| Grid variants | 300 | `.grid-compact`, `.grid-comfortable`, `.list-view` |
| `.results-filters` | 350 | Filter bar |
| `.filter-tags` | 400 | Tag-based filters |
| `@media 768px` | 500 | Responsive |
| `@media 480px` | 550 | Mobile |
| `focus-visible` | 600 | Accessibility |
| `prefers-contrast: high` | 620 | High contrast |
| `prefers-reduced-motion` | 650 | Motion reduction |
| Print styles | 680 | Print layout |
| `body.theme-dark` | 700 | Dark theme overrides |

---

### css/logo.css ‚Äî **EMPTY FILE** (0 bytes)

---

## 4. Broken CSS Inventory

| # | Type | Location | Description |
|---|------|----------|-------------|
| 1 | **Invalid pseudo-element** | `styles.css` ~line 1058 | `.user-avatar:hover::after::before` ‚Äî cannot chain `::after::before`; pseudo-elements don't have pseudo-elements |
| 2 | **Orphaned property block** | `styles.css` ~line 7627 | `background: linear-gradient(...)` and `animation: none;` appear without a selector ‚Äî properties floating in void |
| 3 | **Empty keyframe** | `styles.css` ~line 11460 | `@keyframes profileRingGlow` ‚Äî both `0%` and `100%` set `filter: brightness(1)`, literally does nothing |
| 4 | **Notification class overwritten** | `styles.css` ~line 10655 ‚Üí ~12060 | `.notification` defined twice with completely different styling (elaborate dark glass ‚Üí simpler gradient). Second definition silently overrides first. |
| 5 | **`.btn-primary`/`.btn-secondary` overwritten** | `styles.css` ~line 12100 ‚Üí ~17450 | First defined as gold modal buttons, then redefined in photo editor section as grey/blue buttons. Photo editor definition overrides ALL modal buttons globally. |
| 6 | **`.photo-editor-modal` defined twice** | `styles.css` ~line 17380 ‚Üí ~17480 | First definition is simple, second uses `!important` on everything ‚Äî conflicting approaches |
| 7 | **`.photo-editor-content` redefined** | `styles.css` ~line 17400 ‚Üí ~17500 | Second definition adds `!important` to override the first |
| 8 | **`.control-group` redefined** | `styles.css` ~line 17460 (photo editor) | Conflicts with earlier general `.control-group` |
| 9 | **Extra closing brace** | `css/favorites_theme.css` ~line 766 | Orphaned `}` at end of file ‚Äî mismatched brace |
| 10 | **`.favorite-btn` conflicting definitions** | `styles.css` ~line 13000 vs ~20450 | Home section defines rectangle with states (locked/favorited/loading); ingredient modal defines 52px circles. Latter overrides the former globally. |
| 11 | **`.availability-badge` defined twice** | `styles.css` ~line 10 vs ~20150 | Global definition vs ingredient-modal-specific (no scoping, will override) |

---

## 5. Duplicate / Conflicting Definitions

### Duplicate CSS Selectors

| Selector | 1st Definition | 2nd+ Definition | Conflict |
|----------|---------------|-----------------|----------|
| `.haltane-brand-name` | ~line 7539 | ~line 7612 | Different font sizes/colors |
| `.haltane-brand-location` | ~line 7545 | ~line 7618 | Different colors |
| `.haltane-product-name` | ~line 7550 | ~line 7625 | Different font weights |
| `.haltane-price-badge` | ~line 6400 | ~line 7797 | Different backgrounds |
| `.haltane-price-ornament` (4 corners) | ~line 6420 | ~line 7810 | Different positions |
| `.haltane-price-shimmer` | ~line 6480 | ~line 7850 | Different animations |
| `.haltane-price-glow` | ~line 6500 | ~line 7860 | Different radial gradients |
| `.haltane-price-subtitle` | ~line 6520 | ~line 7880 | Different styling |
| `.notification` | ~line 10655, ~12060 | 3rd in fragrance-results-extra.css | Completely different designs each time |
| `.btn-primary` | ~line 12100 (gold) | ~line 17450 (grey/blue) | Photo editor overrides modal |
| `.btn-secondary` | ~line 12120 (outlined) | ~line 17470 (grey) | Photo editor overrides modal |
| `.photo-editor-modal` | ~line 17380 | ~line 17480 | Second adds !important |
| `.photo-editor-content` | ~line 17400 | ~line 17500 | Second adds !important |
| `.favorite-btn` | ~line 13000 (rect) | ~line 20450 (circle) | Ingredient modal overrides home |
| `.availability-badge` | ~line 10 | ~line 20150 | Ingredient modal overrides global |
| `.brand-name` | ~line 160 (navbar) | ~line 3520 (product) | Different contexts but same class |
| `.user-avatar` | ~line 700 (navbar) | ~line 1600 (reddit) | Different contexts but same class |
| `.no-results` | styles.css | fragrance-results.css | Both define this class |

### Duplicate Keyframe Animations

| Keyframe | Defined at (approximate lines in styles.css) |
|----------|----------------------------------------------|
| `@keyframes spin` | ~line 5200, ~12539, ~16800, ~17600 (**4 times**) |
| `@keyframes adminCrownGlow` | ~line 12877, ~12929 (identical copies) |
| `@keyframes adminTitleGlow` | ~line 12885, ~12937 (identical copies) |
| `@keyframes fillBar` | ~line 5100, ~8300 |
| `@keyframes loadingDots` | ~line 5400, ~15700 |
| `@keyframes modalSlideIn` | ~line 10900, ~12720 |
| `@keyframes adminModalAppear` | ~line 12300, ~12846 |
| `@keyframes fadeInUp` | styles.css + fragrance-results.css |

---

## 6. Color Scheme Map

### Global / Brand Colors
| Token | Hex | Usage |
|-------|-----|-------|
| `--color-gold` | `#d4af37` | Primary accent, buttons, badges, borders |
| `--color-gold-light` | `#ffd700` | Hover states, highlights |
| `--color-gold-dark` | `#b8963a` | Darker accent variant |
| Body bg | `#000000` | Default dark background |
| Body text | `#f5f5f5` | Default light text |

### Per-Fragrance Section Palettes

**Layton (default/gold):**
`#d4af37`, `#ffd700`, `#b8963a` ‚Äî gold/amber tones on black

**Haltane (cream/brown):**
`#f5f2ed`, `#f0e8d8` (backgrounds), `#5d4037`, `#8d6e63`, `#c9a86c` (browns), `#3e1f0d` (dark)

**Pegasus (red/black):**
`#DC143C` (crimson), `#b85450`, `#c9807c`, `#d4a19d` (pink range), `#8a3c3a` (dark crimson), `#b3392f`, `#ff625a`, `#ff827a` (garnet reds), `#0f0f10`, `#171719` (near-black), `rgba(255,59,59,0.25)` (red glow)

**Greenly (green):**
`#155724`, `#1c7430`, `#2e7d32` (dark greens), `#28a745`, `#4caf50` (medium greens), `#81c784`, `#20c997` (light greens), `#e8f5e8`, `#f0f9f4`, `#f7faf7` (green-tinted whites)

### UI Component Colors
| Component | Color | Hex |
|-----------|-------|-----|
| Success / Available | Green | `#22c55e`, `#28a745`, `#4caf50` |
| Error / Destructive | Red | `#dc3545`, `#ef4444`, `#f44336` |
| Warning | Amber | `#ffc107` (+ black text) |
| Info | Blue | `#2196f3`, `#3b82f6` |
| Reddit | Orange | `#ff4500` |
| Cart button | Green | `#2a9d4e` |
| Cart added | Red | `#dc3545` |
| AI finder | Gold | `#d4af37` |
| News | Steel blue | `rgba(70,130,180,0.9)` |
| Notifications | Amber | `rgba(255,193,7,0.9)` |
| User counter | Green | `#10b981`, `#059669` |
| Photo editor | Blue | `#007bff` |
| Favorite active | Red | `#ff6b6b` |
| Share hover | Blue | `#60a5fa` |

### Theme Variants
| Theme | Background | Text | Accent |
|-------|-----------|------|--------|
| `.theme-dark` | `#000000` | `#f5f5f5` | Gold `#d4af37` |
| `.theme-cream` | Cream tones | Dark brown | Brown `#8b7355` |
| `.theme-light` | Light greys | Dark greys | Grey `#495057` |

---

## 7. Font Families

| Font | Type | Usage | First Appears |
|------|------|-------|---------------|
| `system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif` | System stack | `html, body` ‚Äî default fallback | ~line 50 |
| `"Playfair Display", serif` | Google Font (serif) | Brand name, auth headers, product titles, ingredient modal h2, descriptions | ~line 160 |
| `"Inter", sans-serif` | Google Font (sans) | UI elements, labels, badges, buttons | ~line 600 |
| `"Courier New", monospace` | System mono | Photo editor value displays | ~line 17460 |

**Note:** Only 4 font families are used across the entire codebase. The vast majority of text uses the system-ui stack.

---

## 8. Z-Index Hierarchy

Listed from highest to lowest:

| Z-Index | Component | ~Line |
|---------|-----------|-------|
| **1,000,000** | `.modal-content` (base modal) | ~14600 |
| **200,000** | `.photo-editor-modal` | ~17380 |
| **100,005** | `#banModal` | ~12300 |
| **100,002** | `.admin-modal` | ~2200 |
| **100,000** | `.modal-content` (inner), `.login-prompt-overlay` | ~10900, ~13200 |
| **99,999** | `.profile-modal`, `.favorites-modal`, `.settings-modal`, `#verificationModal`, `.fragrance-notification` (ingredient) | ~10800, ~12200, ~20550 |
| **99,998** | `.modal-overlay` | ~10850 |
| **999,999** | `.auth-modal`, `.modal` (base) | ~1800, ~14600 |
| **10,000** | `.notification` (1st def), `.ingredient-modal`, `.news-modal`, `.notification-dropdown` | ~10655, ~19020, ~16400, ~16600 |
| **1,005** | `.ai-fragrance-finder` | ~15100 |
| **1,004** | `.top-marquee` | ~70 |
| **1,002** | `.navbar` | ~120 |
| **1,000** | `.ingredient-finder-dropdown` | ~16250 |
| **999** | `.search-modal` | ~950 |

**‚ö†Ô∏è Critical issue:** Z-index values span from 999 to 1,000,000 ‚Äî a 1000x range. Multiple overlapping layers compete. The `.modal` base at 999,999 and `.modal-content` at 1,000,000 create a ceiling that the photo editor (200,000) sits under, but above the ban modal (100,005).

---

## 9. Keyframe Animations Inventory

Total unique `@keyframes` defined across all files: **~65+**

**Defined multiple times (duplicates):**
- `spin` ‚Äî 4 definitions
- `adminCrownGlow` ‚Äî 2 identical definitions
- `adminTitleGlow` ‚Äî 2 identical definitions
- `fillBar` ‚Äî 2 definitions
- `loadingDots` ‚Äî 2 definitions
- `modalSlideIn` ‚Äî 2 definitions
- `adminModalAppear` ‚Äî 2 definitions
- `fadeInUp` ‚Äî defined in styles.css and fragrance-results.css

**Does nothing:**
- `profileRingGlow` ‚Äî brightness(1) ‚Üí brightness(1)

**Complete Animation Names (styles.css only):**
`marquee-scroll`, `subtleGlow`, `fillAnimation`, `fillBar` (√ó2), `shimmer`, `spin` (√ó4), `qualityShimmer`, `badgeFloat`, `fadeInUp`, `profileRingGlow` (EMPTY), `adminBadgeGlow`, `adminBorderRotate`, `adminPulse`, `adminAvatarGlow`, `adminCrownFloat`, `reviewAdminBadgeGlow`, `adminReviewAvatarGlow`, `reviewCrownFloat`, `replyFormSlideIn`, `replySlideIn`, `replyAdminCrownFloat`, `notificationSlideIn`, `modalSlideIn` (√ó2), `verificationModalAppear`, `banModalAppear`, `adminModalAppear` (√ó2), `badgeShine`, `adminCrownGlow` (√ó2), `adminTitleGlow` (√ó2), `tooltipFadeIn`, `favoriteAdded`, `favoriteHeartPulse`, `favoriteButtonGlow`, `favoriteLoading`, `slideInRight`, `slideOutRight`, `aiPulse`, `brainFloat`, `loadingDots` (√ó2), `news-pulse`, `pulse-notification`, `notification-shake`, `bounceIn`, `pulse-glow`, `number-pop`, `loading-pulse`, `tooltip-fade-in`, `success-glow`, `number-pop-small`, `success-glow-small`, `ingredientPulse`, `addedPulse`, `cartModalPopIn`, `profileRingPulse`, `modalFloat`, `iconGlow`, `slideInUp`, `categorySlideIn`, `iconGlowPulse`, `selectedPulse`, `barSlideIn`, `pillSlideIn`, `rotate`, `qualityShine`, `checkmarkPulse`, `matchedIconGlow`

---

## 10. Responsive Breakpoints

| Breakpoint | Sections Using It |
|------------|-------------------|
| `@media (max-width: 1400px)` | Hero section |
| `@media (max-width: 1024px)` | Ingredient modal (98% width) |
| `@media (max-width: 992px)` | Admin dashboard, search modal |
| `@media (max-width: 768px)` | **Used everywhere** ‚Äî navbar, search, profiles, quality selectors, fragrance notes, haltane, pegasus, reviews, favorites, cart, AI finder, news, notifications, ingredient finder, photo editor, greenly, ingredient modal |
| `@media (max-width: 480px)` | Mobile ‚Äî buttons smaller, modals full-screen, grids single-column, ingredient modal 100vw/100vh |
| `@media (min-width: 768px)` | Product actions row layout (only min-width usage) |

**Primary breakpoints: 768px and 480px** ‚Äî used by virtually every component.

---

## 11. Structural Patterns & Duplication

### Per-Fragrance Prefixed Copies

The most significant structural concern: **each fragrance (Layton, Haltane, Pegasus, Greenly) has its own prefixed near-identical copy** of:

- Quality selector container & options (`.quality-selector-container` / `.haltane-quality-selector-container` / `.pegasus-quality-selector-container`)
- Scent profile (`.fragrance-profile-container` / `.haltane-fragrance-profile-container`)
- Category fills (15 categories √ó 3-4 fragrances = 45-60 similar rules)
- Fragrance description (`.layton-fragrance-description` / `.haltane-fragrance-description` / `.pegasus-fragrance-description`)
- Additional ratings, reddit reviews, mood indicators, season indicators, price badges, price ornaments, brand names, product names‚Ä¶

**Estimated duplicated CSS from prefixing: ~4,000‚Äì6,000 lines** that could be consolidated using CSS custom properties or BEM modifier classes.

### `!important` Abuse

**Estimated `!important` count: 300‚Äì500+ declarations** across styles.css. Concentrated in:
- Pegasus quality overrides (~lines 10000‚Äì10500): nearly every property
- Pegasus scent profile final override (~lines 17700‚Äì18500): every property
- Photo editor override (~lines 17480‚Äì17550): every property
- Theme overrides: many properties
- Modal display toggling: `display: none ‚Üí flex !important`

### CSS Specificity War Patterns

The file employs increasingly extreme specificity to override earlier rules:
1. Simple class selectors (lines 1‚Äì5000)
2. Multi-class selectors (lines 5000‚Äì10000)
3. Section-prefixed nesting: `.pegasus-section .quality-option[data-quality="top"] input[type="radio"]:checked + .quality-label .quality-badge` (lines 10000+)
4. General sibling + attribute selectors: `.pegasus-image ~ .product-title .quality-option[data-quality="identical"] input[type="radio"]:checked + .quality-label` (lines 18000+)
5. ID selectors: `#pegasus-top-quality:checked + .quality-label` (lines 18250+)
6. `!important` on everything (throughout)

---

## Summary Statistics

| Metric | Value |
|--------|-------|
| Total lines across all CSS | ~23,886 |
| Unique class selectors (estimated) | ~500+ |
| Keyframe animations | ~65+ (8 duplicated) |
| Z-index distinct values | ~15 (range: 999‚Äì1,000,000) |
| Broken CSS issues | 11 confirmed |
| Duplicate definitions | 18+ selector pairs, 8 keyframe duplicates |
| `!important` declarations | ~300‚Äì500+ |
| Responsive breakpoints | 5 distinct values |
| Font families | 4 |
| Color hex codes used | ~100+ distinct values |
| Empty/dead CSS files | 1 (`logo.css`) |
